<Page
    x:Class="_123云盘UWP.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:_123云盘UWP"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:controls="using:Microsoft.UI.Xaml.Controls" 
    xmlns:muxc="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    mc:Ignorable="d"
    Background="#e8f4ff">

    <Grid>
        <RelativePanel>
            <Grid x:Name="AppTitleBar" Background="Transparent" RenderTransformOrigin="0.5,0.5" Width="1500" Height="35">
                <Grid.RenderTransform>
                    <CompositeTransform ScaleY="1"/>
                </Grid.RenderTransform>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition x:Name="LeftPaddingColumn" Width="0"/>
                    <ColumnDefinition/>
                    <ColumnDefinition x:Name="RightPaddingColumn" Width="0"/>
                </Grid.ColumnDefinitions>
                <TextBlock x:Name="AppTitleTextBlock" Text="123云盘UWP | 公测版"  Style="{StaticResource CaptionTextBlockStyle}"  Grid.Column="1" VerticalAlignment="Center" Margin="15,0,13,0" />
            </Grid>
        </RelativePanel>
        <RelativePanel x:Name="MainPanel" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
            <Image 
    x:Name="MyImage" 
    Source="/Assets/LOGO UWP.png" 
    Height="70"
    RelativePanel.AlignHorizontalCenterWithPanel="True"
    RelativePanel.AlignTopWithPanel="True"
    Margin="0,85,0,0" />
            <TextBlock Text="欢迎使用 123 云盘 UWP！" RelativePanel.AlignHorizontalCenterWithPanel="True" RelativePanel.AlignTopWithPanel="True" Margin="0,150,0,0" FontSize="20" Foreground="#FF597DFC" FontWeight="Bold" x:Name="Title"/>
            <TextBlock Text="若要开始，请登录" RelativePanel.AlignHorizontalCenterWithPanel="True" RelativePanel.AlignTopWithPanel="True" Margin="0,180,0,0" Foreground="Black" x:Name="tipe"/>
            <Button Style="{StaticResource AccentButtonStyle}" Content="使用 123 云盘 开发者账户登录" Background="#FF597DFC" RelativePanel.AlignHorizontalCenterWithPanel="True" RelativePanel.AlignTopWithPanel="True" Margin="0,230,0,0" Click="Button_Click_1" x:Name="button"/>
            <HyperlinkButton Content="只是需要接收文件？点击免登录以继续" Click="HyperlinkButton_Click" Foreground="#FF597DFC" RelativePanel.AlignHorizontalCenterWithPanel="True" RelativePanel.AlignTopWithPanel="True" Margin="0,270,0,0" x:Name="sb"/>
        </RelativePanel>
        <muxc:ContentDialog x:Name="LoginDialog"
              Title="登录你的 123云盘 开发者账户"
              PrimaryButtonText="确定"
              SecondaryButtonText="取消"
              PrimaryButtonClick="LoginDialog_PrimaryButtonClick">

            <StackPanel Margin="0,20,0,0" Spacing="20">
                <TextBlock TextWrapping="Wrap">
            没有 123云盘 开发者权限？请前往
            <Hyperlink NavigateUri="https://www.123pan.com/developer" Click="Hyperlink_Click">
                https://www.123pan.com/developer
            </Hyperlink>
            申请权限
                </TextBlock>
                <PasswordBox x:Name="ClientIDTextBox" 
                     Header="Client ID"
                     PlaceholderText="请输入Client ID" />
                <PasswordBox x:Name="ClientSecretTextBox" 
                     Header="Client Secret"
                     PlaceholderText="请输入Client Secret" />
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <muxc:ProgressRing x:Name="LoginProgressRing" IsActive="False" Width="20" Height="20" />
                    <TextBlock x:Name="LoadingText" Text="正在登录..." Margin="10,0,0,0" Visibility="Collapsed" />
                </StackPanel>
            </StackPanel>
        </muxc:ContentDialog>
        <RelativePanel>
            <TextBlock
            FontSize="15"
            RelativePanel.AlignHorizontalCenterWithPanel="True"
            RelativePanel.AlignBottomWithPanel="True"
            Margin="20">
            使用 123 云盘 UWP 必须同意
            <Hyperlink NavigateUri="https://flowus.cn/share/1032d3c8-ee26-453e-9b48-52d1581002f5" Foreground="#FF597DFC">
            《123 云盘 UWP 使用协议》
            </Hyperlink>
            </TextBlock>
        </RelativePanel>
    </Grid>
</Page>
